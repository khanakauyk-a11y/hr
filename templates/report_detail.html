{% extends "base.html" %}

{% block title %}Daily Report Detail{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="card">
            <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                <h4 class="mb-0">üìÑ Daily Report Details</h4>
                <a href="{% url 'manager_reports_dashboard' %}" class="btn btn-sm btn-light">‚Üê Back to Dashboard</a>
            </div>
            <div class="card-body">
                <!-- Employee Info -->
                <div class="row mb-4">
                    <div class="col-md-6">
                        <p class="mb-1"><strong>Employee:</strong> {{ report.employee.full_name }}</p>
                        <p class="mb-1"><strong>Employee ID:</strong> {{ report.employee.employee_id }}</p>
                        <p class="mb-1"><strong>Designation:</strong> {{ report.employee.get_role_display }}</p>
                    </div>
                    <div class="col-md-6 text-md-end">
                        <p class="mb-1"><strong>Report Date:</strong> {{ report.report_date|date:"F d, Y" }}</p>
                        <p class="mb-1"><strong>Submitted At:</strong> {{ report.submitted_at|date:"h:i A, M d, Y" }}
                        </p>
                        {% if report.updated_at != report.submitted_at %}
                        <p class="mb-1"><strong>Last Updated:</strong> {{ report.updated_at|date:"h:i A, M d, Y" }}</p>
                        {% endif %}
                    </div>
                </div>

                <hr>

                <!-- Tasks Completed -->
                <div class="mb-4">
                    <h5 class="text-primary">‚úÖ Tasks Completed</h5>
                    <div class="card bg-light">
                        <div class="card-body">
                            <p class="mb-0" style="white-space: pre-wrap;">{{ report.tasks_completed }}</p>
                        </div>
                    </div>
                </div>

                <!-- Challenges -->
                {% if report.challenges %}
                <div class="mb-4">
                    <h5 class="text-warning">‚ö†Ô∏è Challenges / Blockers</h5>
                    <div class="card bg-light">
                        <div class="card-body">
                            <p class="mb-0" style="white-space: pre-wrap;">{{ report.challenges }}</p>
                        </div>
                    </div>
                </div>
                {% endif %}

                <!-- Next Day Plan -->
                {% if report.next_day_plan %}
                <div class="mb-4">
                    <h5 class="text-success">üìÖ Plan for Tomorrow</h5>
                    <div class="card bg-light">
                        <div class="card-body">
                            <p class="mb-0" style="white-space: pre-wrap;">{{ report.next_day_plan }}</p>
                        </div>
                    </div>
                </div>
                {% endif %}

                <!-- Hiring & Sales Metrics -->
                <div class="mb-4">
                    <h5 class="text-info">üìä Hiring & Sales Metrics</h5>
                    <div class="card bg-light">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <p class="mb-2"><strong>Joining Date:</strong> {{ report.joining_date|date:"M d,
                                        Y"|default:"-" }}</p>
                                    <p class="mb-2"><strong>Today Hiring:</strong> {{ report.today_hiring }}</p>
                                </div>
                                <div class="col-md-6">
                                    <p class="mb-2"><strong>Total Hiring:</strong> {{ report.total_hiring }}</p>
                                    <p class="mb-2"><strong>Sales:</strong> ‚Çπ{{ report.sales|floatformat:2 }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="d-flex justify-content-between mt-4">
                    <a href="{% url 'manager_reports_dashboard' %}" class="btn btn-secondary">‚Üê Back to Dashboard</a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}